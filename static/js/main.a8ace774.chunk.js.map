{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["columns","field","headerName","sort","width","type","useStyles","makeStyles","root","backgroundColor","color","sticky","position","left","background","boxShadow","App","classes","useState","data","setData","localArr","getConfig","Promise","resolve","reject","fetch","then","response","json","catch","err","Error","handlePerf","props","ticker","replace","country","id","url","startsWith","rp","html","doc","DOMParser","parseFromString","index","findIndex","item","elm","querySelector","getAttribute","textContent","split","console","log","handleEtfsPerf","querySelectorAll","useEffect","configs","map","config","text","trim","Object","entries","key","value","upside","toFixed","handleStocks","handleEtfs","className","Date","toDateString","toLocaleTimeString","style","height","window","innerHeight","display","flexGrow","rows","checkboxSelection","getCellClassName","params","includes","Number","onRowDoubleClick","event","alert","row","Ticker","Name","Price","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a8ace774.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport rp from \"request-promise\";\nimport { DataGrid } from '@mui/x-data-grid';\nimport { makeStyles } from '@mui/styles';\nimport \"./App.css\";\n\nconst columns = [\n  {\n    field: 'id',\n    headerName: 'ID',\n    sort: 'asc',\n  },\n  {\n    field: 'Ticker',\n    headerName: 'Ticker',\n    width: 150\n  },\n  {\n    field: 'Name',\n    headerName: 'Name',\n    type: 'name',\n    width: 175\n  },\n  {\n    field: 'Category',\n    headerName: 'Category',\n    type: 'category',\n    width: 150\n  },\n  {\n    field: 'Price',\n    headerName: 'Price',\n    type: 'number',\n  },\n  {\n    field: 'Change',\n    headerName: 'Change',\n    //type: 'number',\n  },\n  {\n    field: '52W-Low',\n    headerName: '52W-Low',\n    type: 'number',\n  },\n  {\n    field: '52W-High',\n    headerName: '52W-High',\n    type: 'number',\n  },\n  {\n    field: 'Volume',\n    headerName: 'Volume',\n    width: 175\n  },\n  {\n    field: 'Market-Cap',\n    headerName: 'Market-Cap',\n    type: 'number',\n  },\n  {\n    field: 'Dividend-Yield',\n    headerName: 'Dividend-Yield',\n    type: 'number',\n  },\n  {\n    field: 'Ex-Dividend-Date',\n    headerName: 'Ex-Dividend-Date',\n    type: 'date',\n  },\n  {\n    field: 'MER',\n    headerName: 'MER',\n    type: 'number',\n  },\n  {\n    field: 'Risk',\n    headerName: 'Risk',\n    width: 125\n  },\n  {\n    field: 'Return',\n    headerName: 'Return',\n    width: 125\n  },\n  {\n    field: 'Rating',\n    headerName: 'Rating'\n  },\n  {\n    field: 'Inception',\n    headerName: 'Inception',\n    type: 'date',\n    width: 150,\n  },\n  {\n    field: 'Assets',\n    headerName: 'Assets',\n    type: 'number',\n  },\n  {\n    field: 'Dividend-Yield',\n    headerName: 'Dividend-Yield',\n    type: 'number',\n  },\n  {\n    field: '5d-return',\n    headerName: '5d-return',\n    type: 'number',\n  },\n  {\n    field: '1m-return',\n    headerName: '1m-return',\n    type: 'number',\n  },\n  {\n    field: '3m-return',\n    headerName: '3m-return',\n    type: 'number',\n  },\n  {\n    field: '6m-return',\n    headerName: '6m-return',\n    type: 'number',\n  },\n  {\n    field: '1y-return',\n    headerName: '1y-return',\n    type: 'number',\n  },\n  {\n    field: '3y-return',\n    headerName: '3y-return',\n    type: 'number',\n  },\n  {\n    field: '5y-return',\n    headerName: '5y-return',\n    type: 'number',\n  },\n  {\n    field: '10y-return',\n    headerName: '10y-return',\n    type: 'number',\n  },\n  {\n    field: 'AP - Dec 2020',\n    headerName: 'Dec 2020',\n    type: 'number',\n  },\n  {\n    field: 'AP - Dec 2020 Upside',\n    headerName: 'Dec 2020 Upside',\n    width: 150,\n  },\n  {\n    field: 'AP - Jan 2021',\n    headerName: 'Jan 2021',\n    type: 'number',\n  },\n  {\n    field: 'AP - Jan 2021 Upside',\n    headerName: 'Jan 2021 Upside',\n    width: 150,\n  },\n  {\n    field: 'AP - Feb 2021',\n    headerName: 'Feb 2021',\n    type: 'number',\n  },\n  {\n    field: 'AP - Feb 2021 Upside',\n    headerName: 'Feb 2021 Upside',\n    width: 150,\n  },\n  {\n    field: 'AP - Mar 2021',\n    headerName: 'Mar 2021',\n    type: 'number',\n  },\n  {\n    field: 'AP - Mar 2021 Upside',\n    headerName: 'Mar 2021 Upside',\n    width: 150,\n  },\n  {\n    field: 'AP - Apr 2021',\n    headerName: 'Apr 2021',\n    type: 'number',\n  },\n  {\n    field: 'AP - Apr 2021 Upside',\n    headerName: 'Apr 2021 Upside',\n    width: 150,\n  },\n  {\n    field: 'AP - May 2021',\n    headerName: 'May 2021',\n    type: 'number',\n  },\n  {\n    field: 'AP - May 2021 Upside',\n    headerName: 'May 2021 Upside',\n    width: 150,\n  },\n  {\n    field: 'AP - Jun 2021',\n    headerName: 'Jun 2021',\n    type: 'number',\n  },\n  {\n    field: 'AP - Jun 2021 Upside',\n    headerName: 'Jun 2021 Upside',\n    width: 150,\n  },\n  {\n    field: 'AP - Aug 2021',\n    headerName: 'Aug 2021',\n    type: 'number',\n  },\n  {\n    field: 'AP - Aug 2021 Upside',\n    headerName: 'Aug 2021 Upside',\n    width: 150,\n  },\n  {\n    field: 'AP - Sept 2021',\n    headerName: 'Sept 2021',\n    type: 'number',\n  },\n  {\n    field: 'AP - Sept 2021 Upside',\n    headerName: 'Sept 2021 Upside',\n    width: 150,\n  },\n  // {\n  //   field: 'AP - xxx 2021',\n  //   headerName: 'xxx 2021',\n  //   type: 'number',\n  // },\n  // {\n  //   field: 'AP - xxx 2021 Upside',\n  //   headerName: 'xxx 2021 Upside',\n  //   width: 150,\n  // },\n\n];\n\n\nconst sampleData = [\n  {\n    \"id\": 100,\n    \"ticker\": \"TD\",\n    \"type\": \"stock\",\n    \"AP - Dec 2020\": \"68.77\",\n    \"AP - Jan 2021\": \"75\",\n    \"AP - Feb 2021\": \"82.2\",\n    \"AP - Mar 2021\": \"87.62\",\n    \"AP - Apr 2021\": \"86.5\",\n    \"AP - May 2021\": \"91.71\",\n    \"AP - Jun 2021\": \"91\",\n    \"AP - Aug 2021\": \"93\",\n  },\n  \n  {\n    \"id\": 600,\n    \"ticker\": \"TSLA\",\n    \"type\": \"stock\",\n    \"country\": \"US\",\n    \"AP - Dec 2020\": \"501.29\",\n    \"AP - Jan 2021\": \"753\",\n    \"AP - Feb 2021\": \"670\",\n    \"AP - Mar 2021\": \"882\",\n    \"AP - Apr 2021\": \"800\",\n    \"AP - May 2021\": \"772\",\n    \"AP - Jun 2021\": \"800\",\n    \"AP - Aug 2021\": \"900\",\n    \"AP - Sep 2021\": \"862\",\n  },\n  \n  {\n    \"id\": 700,\n    \"ticker\": \"XIU\",\n    \"type\": \"etf\"\n  },\n  \n  {\n    \"id\": 1400,\n    \"ticker\": \"QQQ\",\n    \"type\": \"etf\",\n    \"country\": \"US\",\n  },\n]\n\n\nconst useStyles = makeStyles({\n  root: {\n    '& .cold': {\n      backgroundColor: 'red',\n      color: 'white',\n    },\n    '& .hot': {\n      backgroundColor: 'green',\n      color: 'white',\n    },\n    sticky: {\n      position: \"sticky\",\n      left: 0,\n      background: \"white\",\n      boxShadow: \"5px 2px 5px grey\"\n    }\n  },\n});\n\nexport default function App() {\n  const classes = useStyles();\n  const [data, setData] = useState([]);\n  let localArr = [];\n\n  // read our data file in the public folder\n  const getConfig = new Promise((resolve, reject) => {\n    fetch('data.json')\n      .then(function (response) {\n        resolve(response.json());\n        //resolve(sampleData);\n      })\n      .catch(function (err) {\n        reject(Error(\"Get config failed\"));\n      });\n  });\n\n  // handle canadian stocks\n  const handleStocks = (props) => {\n    const ticker = props.ticker;\n    const country = props.country ? props.country : 'CAN';\n    let url = 'https://cors.bridged.cc/https://marketsandresearch.td.com/tdwca/Public/Stocks/Overview/ca/';\n    if (country === 'US') {\n      url = 'https://cors.bridged.cc/https://marketsandresearch.td.com/tdwca/Public/Stocks/Overview/us/';\n    }\n\n    rp(url + ticker)\n      .then(html => {\n        // Convert the HTML string into a document object\n        var parser = new DOMParser();\n        var doc = parser.parseFromString(html, 'text/html');\n        var elm = {};\n\n        //common\n        elm['id'] = props.id;\n        elm['Ticker'] = doc.querySelector(\".issueExchange\").textContent + doc.querySelector(\".issueSymbol\").textContent;\n        props['exchange'] = doc.querySelector(\".issueExchange\").textContent;\n        elm['Name'] = doc.querySelector(\".issueName\").textContent;\n        elm['Category'] = doc.querySelector(\".PeersModule a\").text.split('-')[0];\n        elm['Price'] = doc.querySelector(\".primary-data-content li div span\").textContent;\n        elm['Change'] = doc.querySelector(\".changePercent\").textContent.replace('(', '').replace(')', '').trim();\n        elm['52W-Low'] = doc.querySelectorAll(\"div[low]\")[1].getAttribute('low');\n        elm['52W-High'] = doc.querySelectorAll(\"div[low]\")[1].getAttribute('high');\n        elm['Volume'] = doc.querySelector('.volume-label ~ div').textContent;\n\n        //stocks\n        elm['Market-Cap'] = doc.querySelectorAll('.fundamentalsTable tr')[0].querySelectorAll('div')[1].textContent;\n        elm['Dividend-Yield'] = doc.querySelectorAll('.fundamentalsTable tr')[3].querySelectorAll('div')[1].textContent;\n        elm['Ex-Dividend-Date'] = doc.querySelectorAll('.fundamentalsTable tr')[5].querySelectorAll('div')[1].textContent;\n\n        // loop through Analyst Prices\n        for (const [key, value] of Object.entries(props)) {\n          if (key.startsWith('AP')) {\n            elm[key] = value;\n          }\n          const upside = ((value / elm['Price']) - 1) * 100;\n          elm[key + ' Upside'] = upside.toFixed(2) + '%';\n        }\n\n        localArr = [...localArr, elm];\n        setData(localArr);\n        // setData(prevState => {\n        //   return {\n        //     ...localArr\n        //   };\n        // });\n\n        // more stock items\n        handlePerf(props);\n\n      })\n      .catch(function (err) {\n        console.log(\"Stocks failed\");\n      });\n\n  }\n\n  const handleEtfs = (props) => {\n    const ticker = props.ticker;\n    const country = props.country ? props.country : 'CAN';\n\n    let url = 'https://cors.bridged.cc/https://marketsandresearch.td.com/tdwca/Public/ETFsProfile/Summary/ca/';\n    if (country === 'US') {\n      url = 'https://cors.bridged.cc/https://marketsandresearch.td.com/tdwca/Public/ETFsProfile/Summary/us/';\n    }\n\n    rp(url + ticker)\n      .then(html => {\n        // Convert the HTML string into a document object\n        var parser = new DOMParser();\n        var doc = parser.parseFromString(html, 'text/html');\n        var elm = {};\n\n        //common\n        elm['id'] = props.id;\n        elm['Ticker'] = doc.querySelector(\".issueExchange\").textContent + doc.querySelector(\".issueSymbol\").textContent;\n        props['exchange'] = doc.querySelector(\".issueExchange\").textContent;\n        elm['Name'] = doc.querySelector(\".issueName\").textContent;\n        elm['Price'] = doc.querySelector(\".primary-data-content li div span\").textContent;\n        elm['Change'] = doc.querySelector(\".changePercent\").textContent.replace('(', '').replace(')', '').trim();\n        elm['52W-Low'] = doc.querySelectorAll(\"div[low]\")[1].getAttribute('low');\n        elm['52W-High'] = doc.querySelectorAll(\"div[low]\")[1].getAttribute('high');\n        elm['Volume'] = doc.querySelector('.volume-label ~ div').textContent;\n\n        //ETF's summary\n        elm['Rating'] = doc.querySelector('.secondary-data-content').querySelector('li:last-child').querySelector('.star-row').querySelectorAll('span')[10]?.textContent;\n        elm['Category'] = doc.querySelector('.topFundInfo').querySelectorAll('tr')[1].querySelector('span:last-child').textContent;\n        elm['Inception'] = doc.querySelector('.topFundInfo').querySelectorAll('tr')[3].querySelector('span:last-child').textContent;\n        elm['Assets'] = doc.querySelectorAll(\".FundProfileView table tr\")[5].querySelector('td')?.textContent;\n        elm['Dividend-Yield'] = doc.querySelectorAll(\".FundProfileView table tr\")[10].querySelector('td')?.textContent;\n        elm['Ex-Dividend-Date'] = doc.querySelectorAll(\".FundProfileView table tr\")[12].querySelector('td')?.textContent;\n        elm['MER'] = doc.querySelectorAll(\".FundProfileView table tr\")[19].querySelector('td')?.textContent;\n\n        localArr = [...localArr, elm];\n        setData(localArr);\n        // setData(prevState => {\n        //   return {\n        //     ...localArr\n        //   };\n        // });\n\n        // more ETF items\n        handleEtfsPerf(props);\n\n      })\n      .catch(function (err) {\n        console.log(\"ETFs failed\");\n      });\n\n  }\n\n\n  const handlePerf = (props) => {\n    let ticker = props.ticker.replace(\".\", \"-\");\n\n    const country = props.country ? props.country : 'CAN';\n    const id = props.id;\n\n    let url = 'https://cors.bridged.cc/https://www.theglobeandmail.com/investing/markets/stocks/' + ticker + '-T/';\n    if (country === 'US') {\n      // the above url doesn't work well with US ETFs\n      if (props['type'] === 'etf') {\n        return;\n      }\n\n      if (props['exchange'].startsWith('NYSE')) {\n          ticker = ticker + '-N/';\n      }\n      else { //Nasdaq\n        ticker = ticker + '-Q/';\n      }\n      url = 'https://cors.bridged.cc/https://www.theglobeandmail.com/investing/markets/stocks/' + ticker;\n    }\n\n    rp(url)\n      .then(html => {\n        // Convert the HTML string into a document object\n        var parser = new DOMParser();\n        var doc = parser.parseFromString(html, 'text/html');\n\n        // find the correct item from array\n        const index = localArr.findIndex(item => item.id === id);\n        const elm = localArr[index];\n\n        //Sticks's performance\n        elm['5d-return'] = doc.querySelector('[name=\"percentChange5d\"]')?.getAttribute('value');\n        elm['1m-return'] = doc.querySelector('[headers=\"pricePerformanceData_period_1m pricePerformanceData_performance\"] span')?.textContent.split('(')[1].split(')')[0];\n        elm['3m-return'] = doc.querySelector('[headers=\"pricePerformanceData_period_3m pricePerformanceData_performance\"] span')?.textContent.split('(')[1].split(')')[0];\n        elm['1y-return'] = doc.querySelector('[name=\"return1y\"]')?.getAttribute('value');\n        elm['3y-return'] = doc.querySelector('[name=\"return3y\"]')?.getAttribute('value');\n        elm['5y-return'] = doc.querySelector('[name=\"return5y\"]')?.getAttribute('value');\n\n        // replace elm\n        //localArr[index] = elm;\n        setData(localArr);\n        // setData(prevState => {\n        //   return {\n        //     ...localArr\n        //   };\n        // });\n      })\n      .catch(function (err) {\n        console.log(\"Stocks Perf failed\");\n      });\n\n  };\n\n  const handleEtfsPerf = (props) => {\n    const ticker = props.ticker;\n    const country = props.country ? props.country : 'CAN';\n    const id = props.id;\n\n    let url = 'https://cors.bridged.cc/https://marketsandresearch.td.com/tdwca/Public/ETFsProfile/PerformanceAndRisk/ca/';\n    if (country === 'US') {\n      url = 'https://cors.bridged.cc/https://marketsandresearch.td.com/tdwca/Public/ETFsProfile/PerformanceAndRisk/us/';\n    }\n\n    rp(url + ticker)\n      .then(html => {\n        // Convert the HTML string into a document object\n        var parser = new DOMParser();\n        var doc = parser.parseFromString(html, 'text/html');\n\n        // find the correct item from array\n        const index = localArr.findIndex(item => item.id === id);\n        const elm = localArr[index];\n\n        //ETF's performance and risk\n        elm['Risk'] = doc.querySelectorAll(\".risk-rating\")[0]?.querySelector('.active').textContent;\n        elm['Return'] = doc.querySelectorAll(\".risk-rating\")[1]?.querySelector('.active').textContent;\n        elm['3m-return'] = doc.querySelectorAll(\".PerformanceOverTimeView table tr\")[1]?.querySelectorAll('div')[1].textContent;\n        elm['6m-return'] = doc.querySelectorAll(\".PerformanceOverTimeView table tr\")[1]?.querySelectorAll('div')[2].textContent;\n        elm['3y-return'] = doc.querySelectorAll(\".PerformanceOverTimeView table tr\")[1]?.querySelectorAll('div')[3].textContent;\n        elm['5y-return'] = doc.querySelectorAll(\".PerformanceOverTimeView table tr\")[1]?.querySelectorAll('div')[4].textContent;\n        elm['10y-return'] = doc.querySelectorAll(\".PerformanceOverTimeView table tr\")[1]?.querySelectorAll('div')[5].textContent;\n\n        // replace elm\n        //localArr[index] = elm;\n        setData(localArr);\n        // setData(prevState => {\n        //   return {\n        //     ...localArr\n        //   };\n        // });\n\n        handlePerf(props);\n      })\n      .catch(function (err) {\n        console.log(\"ETFs Perf failed\");\n      });\n\n  };\n\n  // this runs once at start up\n  useEffect(() => {\n\n    getConfig\n      .then(configs => {\n        // loop through values in config\n        configs.map((config) => {\n          if (config.type === 'stock') {\n            handleStocks(config);\n          } else {\n            handleEtfs(config);\n          }\n          return null;\n        })\n      })\n    // .finally(() => {\n    //   setData(localArr);\n    // });\n\n  }, []);\n\n  return (\n    <div className={classes.root}>\n      <h1>Stocks</h1>\n      <h3>Last refreshed: {new Date().toDateString()} {new Date().toLocaleTimeString()}</h3>\n      <div style={{ height: window.innerHeight * 0.75, width: '100%' }}>\n        <div style={{ display: 'flex', height: '100%' }}>\n          <div style={{ flexGrow: 1 }}>\n            <DataGrid\n              rows={data}\n              columns={columns}\n              //pageSize={100}\n              //rowsPerPageOptions={[25, 50, 100]}\n              checkboxSelection\n              //disableSelectionOnClick\n              //loading\n              getCellClassName={(params) => {\n                if (params.field.includes(\"Upside\")) {\n                  return Number(params.value?.split('%')[0]) >= 5 ? 'hot' : null;\n                }\n                else if (params.field === 'Change') {\n                  return Number(params.value?.split('%')[0]) >= 0 ? 'hot' : 'cold';\n                }\n                else if (params.field === 'id') {\n                  return 'sticky';\n                }\n                else {\n                  return '';\n                }\n              }}\n              onRowDoubleClick={(params, event) => {\n                alert(`${params.row.Ticker} --> ${params.row.Name} --> ${params.row.Price}`);\n              }}\n            />\n          </div>\n        </div>\n      </div>\n      {/* {JSON.stringify(data)} */}\n    </div>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}